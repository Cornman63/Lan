<!DOCTYPE html>
<html>

<head lang="sv">
    <title> LAN register</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="Css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>
    <ul class="navul">
        <li><a href="document/lan_lapp (1).docx">Lan blankett</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="information.html">Information</a></li>
        <li><a href="register.html" style="background-color: #240536;">Register</a></li>
        <li><a href="index.html">Home</a></li>
        <li><img src="Img/ntivitcrop.png" alt="NTIlogo" width="200" height="100%" id="NTIlogo" /></li>
    </ul>
    <div class="flow">
        <h3 class="obs">Obs. Detta är endast för elever som går eller har gått i NTI Södertörn, Elever som inte går på
            skolan får ej komma. Gå in och läs informationen noggrant!</h3>
        <div class="container">

            <div class="container-time">
                <h2 class="heading">Tid:</h2>
                <h3 class="heading-days">Fredag 29/10/2021</h3>
                <p class="info">18 00 (Öppnar)</p>
                <p class="info">22 00 (Stänger vi dörarna)</p>
                <p class="info">00 00 (Grillar Vi)</p>
                <p class="info">08 00(Slut för dagen)</p>



                <hr id="break">

                <h4 class="heading-phone">9/64 platser bokade</h4>
                <p class="info">Förnamn och Efternamn samt bordsnummer måste fyllas inga konstiga namn annars ogiltig
                    bokning.</p>
                <br>
                <p class="info">För avbokning eller byta plats vänligen maila:</p>
                <p class="infoo"> mike.zogheib@elev.ntig.se</p>
                <br>
                <p class="info">OBS. Lan balnkett måste fyllas i om man är under 18 år och ta med den till lanet, ta
                    också med Nti kortet den man använder för öppna dörarna.</p>
                <br>
                <p class="info">Nedan hittar ni lediga platser.</p>
            </div>

            <div class="container-form">
                <form onsubmit="sendMail();return false" action="#" target="_top" method="POST" enctype="text/email/tel">
                    <h2 class="heading heading-yellow">Boka Plats</h2>

                    <div class="form-field">
                        <p class="info">Namn:</p>
                        <input id="name" type="text" name="namn" placeholder="Full Name">
                    </div>
                    <div class="form-field">
                        <p class="info">Email:</p>
                        <input id="email" type="email" name="email" placeholder="Email">
                    </div>
                    <div class="form-field">
                        <p class="info">Mobilnummer:</p>
                        <input id="tel" type="tel" name="telefon nummer" placeholder="Mobilnummer">
                    </div>
                    <div class="form-field">
                        <p class="info">Bordsnummer:</p>
                        <select id="bordnummer"  name="">
                            <option value="" selected disabled hidden>Bordsnummer</option>
                        </select>
                    </div>

                    <p id="error-text"></p>
                    <button class="btn">Submit</button>
                </form>
            </div>
        </div>

        <div id="Con">
            <h3 class="obs">Välj en plats och skriv in Bordsnummer på platsen du valt för boka den.</h3>
            <h3 class="obs">Grön: Tillgänglig</h3>
            <h3 class="obs"> Röd :Bokad</h3>
            <!-- <div class="tables">
                <div class="section">
                    <ul class="row">
                        <li>
                            <span class="hasTooltip">
                                <a class="">1</a>
                                <span class="tooltipText"></span>
                            </span>
                        </li>
                        <li><span class="hasTooltip"><a class="">
                                    2
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    3
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    4
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    5
                                </a> <span class="tooltipText"> </span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    6
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    7
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    8
                                </a> <span class="tooltipText"></span></span></li>
                    </ul>
                    <ul class="row">
                        <li><span><a class="">
                                    9
                                </a></span></li>
                        <li><span><a class="">
                                    10
                                </a></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    11
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    12
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    13
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    14
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    15
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    16
                                </a> <span class="tooltipText"></span></span></li>
                    </ul>
                </div>
                <div class="section">
                    <ul class="row">
                        <li><span><a class="">
                                    17
                                </a></span></li>
                        <li><span><a class="">
                                    18
                                </a></span></li>
                        <li><span><a class="">
                                    19
                                </a></span></li>
                        <li><span><a class="">
                                    20
                                </a></span></li>
                        <li><span><a class="">
                                    21
                                </a></span></li>
                        <li><span><a class="">
                                    22
                                </a></span></li>
                        <li><span><a class="">
                                    23
                                </a></span></li>
                        <li><span><a class="">
                                    24
                                </a></span></li>
                    </ul>
                    <ul class="row">
                        <li><span class="hasTooltip"><a class="">
                                    25
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span><a class="">
                                    26
                                </a></span></li>
                        <li><span><a class="">
                                    27
                                </a></span></li>
                        <li><span><a class="">
                                    28
                                </a></span></li>
                        <li><span><a class="">
                                    29
                                </a></span></li>
                        <li><span><a class="">
                                    30
                                </a></span></li>
                        <li><span><a class="">
                                    31
                                </a></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    32
                                </a> <span class="tooltipText"></span></span></li>
                    </ul>
                </div>
                <div class="section">
                    <ul class="row">
                        <li><span><a class="">
                                    33
                                </a></span></li>
                        <li><span><a class="">
                                    34
                                </a></span></li>
                        <li><span><a class="">
                                    35
                                </a></span></li>
                        <li><span><a class="">
                                    36
                                </a></span></li>
                        <li><span><a class="">
                                    37
                                </a></span></li>
                        <li><span><a class="">
                                    38
                                </a></span></li>
                        <li><span><a class="">
                                    39
                                </a></span></li>
                        <li><span><a class="">
                                    40
                                </a></span></li>
                    </ul>
                    <ul class="row">
                        <li><span class="hasTooltip"><a class="">
                                    41
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span><a class="">
                                    42
                                </a></span></li>
                        <li><span><a class="">
                                    43
                                </a></span></li>
                        <li><span><a class="">
                                    44
                                </a></span></li>
                        <li><span><a class="">
                                    45
                                </a></span></li>
                        <li><span><a class="">
                                    46
                                </a></span></li>
                        <li><span><a class="">
                                    47
                                </a></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    48
                                </a> <span class="tooltipText"></span></span></li>
                    </ul>
                </div>
                <div class="section">
                    <ul class="row">
                        <li title="Victor Andri"><span class="hasTooltip"><a class="taken">
                                    49
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    50
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    51
                                </a> <span class="tooltipText"> </span></span></li>
                        <li><span class="hasTooltip"><a class="">
                                    52
                                </a> <span class="tooltipText"></span></span></li>
                        <li><span><a class="">
                                    53
                                </a></span></li>
                        <li><span><a class="">
                                    54
                                </a></span></li>
                        <li><span><a class="">
                                    55
                                </a></span></li>
                        <li><span><a class="">
                                    56
                                </a></span></li>
                    </ul>
                    <ul class="row">
                        <li title="Daniel Askling"><span class="hasTooltip"><a class="taken">
                                    57
                                </a> <span class="tooltipText"></span></span></li>
                        <li title="Zarah Isaksson"><span class="hasTooltip"><a class="taken">
                                    58
                                </a> <span class="tooltipText"></span></span></li>
                        <li title="Isak Karlsen"><span class="hasTooltip"><a class="taken">
                                    59
                                </a> <span class="tooltipText"></span></span></li>
                        <li title="Sanna Öberg"><span class="hasTooltip"><a class="taken">
                                    60
                                </a> <span class="tooltipText"></span></span></li>
                        <li title="Henrik Dahlén"><span><a class="taken">
                                    61
                                </a></span class="tooltipText"></li>
                        <li title="Casper Dahlberg "><span><a class="taken">
                                    62
                                </a></span></li>
                        <li title="Felix Lamu"><span><a class="taken">
                                    63
                                </a></span></li>
                        <li title="Aston Martin"><span class="tooltiptext"><a class="taken">

                                    64
                                </a> <span class="tooltipText"></span></span></li>
                    </ul>
                </div>
            </div> -->
        </div>
        <script>

            var booking = {
                1: "",
                2: "",
                3: "",
                4: "",
                5: "",
                6: "",
                7: "",
                8: "",
                9: "",
                10: "",
                11: "",
                12: "",
                13: "",
                14: "",
                15: "",
                16: "",
                17: "",
                18: "",
                19: "",
                20: "",
                21: "",
                22: "",
                23: "",
                24: "",
                25: "",
                26: "",
                27: "",
                28: "",
                29: "",
                30: "",
                31: "",
                32: "",
                33: "",
                34: "",
                35: "",
                36: "",
                37: "",
                38: "",
                39: "",
                40: "",
                41: "",
                42: "",
                43: "",
                44: "",
                45: "",
                46: "",
                47: "",
                48: "",
                49: "Victor Andri",
                50: "",
                51: "",
                52: "",
                53: "",
                54: "",
                55: "",
                56: "",
                57: "Daniel Askling",
                58: "Zarah Isaksson",
                59: "Isak Karlsen",
                60: "Sanna Öberg",
                61: "Henrik Dahlén",
                62: "Casper Dahlberg",
                63: "Felix Lamu",
                64: "Aston Martin"
            }

            function createTable(){
                let dest = document.getElementById('Con')

                let main_div = document.createElement("div")
                main_div.classList.add("tables")

                let index = 0;

                for (let i = 0; i < 4; i++) {
                    let section_div = document.createElement("div")
                    section_div.classList.add("section")

                    for (let i2 = 0; i2 < 2; i2++) {
                        let row_ul = document.createElement("ul")
                        row_ul.classList.add("row")

                        for (let i3 = 0; i3 < 8; i3++) {
                            index += 1

                            let li = document.createElement("li")
                            li.title = booking[index]

                            let a = document.createElement("a")
                            if (booking[index] != ""){
                                a.classList.add("taken")
                            }
                            a.innerHTML = index
                            a.onclick = function() {
                                document.querySelector(`#bordnummer > option[value="${this.innerHTML}"]`).selected = true;
                                document.querySelector("div.container").scrollIntoView();
                            }
                            
                            li.appendChild(a)
                            row_ul.appendChild(li)
                        }

                        section_div.appendChild(row_ul)   
                    }

                    main_div.appendChild(section_div)
                }

                dest.appendChild(main_div)
            }

            createTable()
        </script>

    </div>

    <script src="Script/script.js"></script>

    <script>
        function sendMail() {
            let name_ = document.getElementById("name")
            let email_ = document.getElementById("email")
            let tel_ = document.getElementById("tel")
            let bordnummer_ = document.getElementById("bordnummer")
            let error_text = document.getElementById('error-text')

            let field_items = [name_, email_, tel_, bordnummer_]

            field_items.forEach(e => {
                e.style.backgroundColor = (e.value == "") ? "red" : ""
            });

            if (name_.value == "" || email_.value == "" || tel_.value == "" || bordnummer_.value == ""){
                error_text.innerHTML = "Fyll i alla fält innan du skickar in"
                error_text.style.color = "red"
                return
            }

            error_text.innerHTML = "Din ansökan skickas via mail, om det inte öppnats automatiskt, kontakta mej breh"
            error_text.style.color = "green"

            var link = 
                "mailto:mike.zogheib@elev.ga.ntig.se" +
                "?subject=" + encodeURIComponent("NTI LAN 2021") +
                "&body=" + encodeURIComponent(
                    [
                        "Name: " + name_.value,
                        "Email: " + email_.value,
                        "Tel: " + tel_.value,
                        "Bordsnummer: " + bordnummer_.value
                    ].join("\n")
                )
            ;

            window.location.href = link;
        };

        let dropdown_numbers = document.getElementById('bordnummer')

        document.querySelectorAll('div#Con > div.tables a:not(.taken)').forEach(e => {
            let option = document.createElement("option")
            
            option.value = e.innerHTML.trim()
            option.innerText = e.innerHTML.trim()

            dropdown_numbers.appendChild(option)
        });
    </script>
</body>

</html>